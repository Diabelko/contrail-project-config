includes:
  - python-file: opencontrail_functions.py

pipelines:
  - name: check
    description: Newly uploaded patchsets enter this pipeline to receive an initial +/-1 Verified vote from Jenkins.
    failure-message: Build failed.  For information on how to proceed, see https://wiki.opencontrail.org/wiki/GerritJenkinsGit#Test_Failures
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      gerrit:
        - event: patchset-created
         # branch: R3\.2
        - event: change-restored
        - event: comment-added
          comment_filter: (?i)recheck(( (?:bug|lp)[\s#:]*(\d+))|( no bug))(\s+clean)?\s*$
          # email_filter: (ci-admin@opencontrail.org|(aranjan|klash|vmahuli|abhayj)@juniper.net)
          # These can be used to have a 'recheck throttle', where only
          # limited userid's can issue recheck's. Can set/tune on a
          # per-branch basis.
          # branch: (R2\.[01]|R2\.2.*|R3\.0)
          # branch: master
          # email_filter: ci-admin@opencontrail.org
        - event: comment-added
          require-approval:
            - username: jenkins
              older-than: 72h
        - event: comment-added
          require-approval:
            - approved: 1
            - username: jenkins
              older-than: 24h
        - event: comment-added
          comment_filter: (?i)^\s*reverify( (?:bug|lp)[\s#:]*(\d+))\s*$
          require-approval:
            - approved: 1
            - username: jenkins
        - event: comment-added
          require-approval:
            - verified: -1
              username: jenkins
          approval:
            - approved: 1
        - event: comment-added
          require-approval:
            - verified: -2
              username: jenkins
          approval:
            - approved: 1
    start:
      gerrit:
        verified: 0
    success:
      gerrit:
        verified: 1
    failure:
      gerrit:
        verified: -1

  - name: gate
    description: Changes that have been approved by core developers are enqueued in order in this pipeline, and if they pass tests in Jenkins, will be merged.
    failure-message: Build failed.  For information on how to proceed, see https://wiki.openstack.org/wiki/GerritJenkinsGit#Test_Failures
    manager: DependentPipelineManager
    precedence: normal
    trigger:
      gerrit:
        - event: comment-added
          require-approval:
            - verified: 1
              username: zuul
              newer-than: 52w
          approval:
            - approved: 1
        - event: comment-added
          require-approval:
            - verified: 2
              username: zuul
              newer-than: 52w
          approval:
            - approved: 1
        - event: comment-added
          approval:
            - verified: 1
          username_filter: zuul
        - event: comment-added
          approval:
            - verified: 2
          username_filter: opencontrail-admin
    start:
      gerrit:
        verified: 0
    success:
      gerrit:
        verified: 2
        submit: true
    failure:
      gerrit:
        verified: -2
    window-floor: 20
    window-increase-factor: 2

  - name: post
    description: This pipeline runs jobs that operate after each change is merged.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^(?!(devnull|refs/.*)).*$

  - name: tag
    description: This pipeline runs jobs in response to any tag event.
    manager: IndependentPipelineManager
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/.*$

  - name: pre-release
    description: This pipeline runs jobs on projects in response to pre-release tags.
    manager: IndependentPipelineManager
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/([0-9]+\.)+[0-9]*(alpha|beta|candidate|rc|a|b|c|r|g)[0-9]*$

  - name: release
    description: When a commit is tagged as a release, this pipeline runs jobs that publish archives and documentation.
    manager: IndependentPipelineManager
    precedence: high
    trigger:
      gerrit:
        - event: ref-updated
          ref: ^refs/tags/([0-9]+\.)+[0-9]+$

  - name: silent
    description: This pipeline is used for silently testing new jobs.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      gerrit:
        - event: patchset-created
        - event: comment-added
          comment_filter: (?i)^\s*recheck(( (?:bug|lp)[\s#:]*(\d+))|( no bug))\s*$

  - name: experimental
    description: On-demand pipeline for requesting a run against a set of jobs that are not yet gating. Leave review comment of "check experimental" to run jobs in this pipeline.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      gerrit:
        - event: comment-added
          comment_filter: (?i)^\s*check experimental\s*$
    success:
      gerrit:
        force-message: true
    failure:
      gerrit:
        force-message: true

  - name: periodic
    description: Jobs in this queue are triggered on a timer.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      timer:
        - time: '0 */12 * * *'

  - name: periodic-stable
    description: Periodic checks of the stable branches.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      timer:
        - time: '1 6 * * *'
# Format of smtp reporter has changed
# See: https://docs.openstack.org/infra/zuul/reporters.html#smtp
# Need a named smtp connection: https://docs.openstack.org/infra/zuul/connections.html#smtp
#    failure:
#      smtp:
#        from: ci-admin@opencontrail.org
#        to: opencontrail-stable-maint@lists.opencontrail.org
#        subject: 'Stable check of {change.project} failed'

  - name: periodic-qa
    description: Periodic jobs for the QA team.
    manager: IndependentPipelineManager
    precedence: low
    trigger:
      timer:
        - time: '2 6 * * *'
#    failure:
#      smtp:
#        from: ci-admin@opencontrail.org
#        to: opencontrail-qa@lists.opencontrail.org
#        subject: 'Periodic jobs for {change.project} failed'

project-templates:
  - name: python-jobs
    check:
      - 'gate-{name}-pep8'
      - 'gate-{name}-docs'
      - 'gate-{name}-python26'
      - 'gate-{name}-python27'
    gate:
      - 'gate-{name}-docs'
      - 'gate-{name}-pep8'
      - 'gate-{name}-python26'
      - 'gate-{name}-python27'
    post:
      - '{name}-branch-tarball'
      - '{name}-coverage'

  - name: opencontrail-server-publish-jobs
    post:
      - '{name}-docs'
    release:
      - '{name}-docs'

  - name: opencontrail-client-publish-jobs
    release:
      - '{name}-docs'

  - name: check-requirements
    check:
      - 'gate-{name}-requirements'
    gate:
      - 'gate-{name}-requirements'

  - name: contrail-jobs
    check:
      - 'gate-{name}-build'
    gate:
      - 'gate-{name}-build'
    post:
      - 'gate-{name}-build'

jobs:
  - name: ^ci-.*-unittest-win2016-bis$
    branch: ^.*$
    success-pattern: http://zuul2.opencontrail.org/
  - name: ^ci-.*-unittest-win2016$
    branch: ^.*$
    success-pattern: http://zuul2.opencontrail.org/

  - name: jluk-test1
    success-pattern: http://zuul2.opencontrail.org/
  # Zuul only supports ONE parameter-function per job, so we have one
  # function that calls others. At this time, there are:
  #   check_for_recheck_clean - Build from scratch, no pre-built images
  #   check_for_tempest - Whether tempest tests should b run
  - name: ^.*-systest-.*$
    parameter-function: oc_ci_pre_systest_checks

  # CentOS 6.4 and Ubuntu14 havana jobs are old, and should be retired. But run
  # them (for now) only on R1.0x, R1.10, R1.30, R2.0, and R2.1 branches.
  - name: ^.*systest-(centos64|ubuntu14)-havana$
    branch: (R1\..*|R2\.[01])

  # All icehouse systest only for R2.2*
  - name: ^ci-.*-systest-(redhat70|ubuntu1[24]|centos71)-icehouse$
    branch: R2\.2.*

  # All CentOS 7.1, and Ubuntu 1* juno jobs for R2.2*, and R3.0*
  - name: ^ci-.*-systest-(ubuntu14|centos71)-juno$
    branch: (R2\.2.*|R3\.0.*|cql_dev)

  # Redhat 7 juno jobs are for R3.0* (dropped in R3.1).
  # Note: these are build-only as of 2016-03-17
  - name: ^ci-.*-systest-redhat70-juno$
    branch: ^R3\.0.*$

  # All CentOS-7.1, Redhat-7.0 kilo jobs for R3.0 and newer
  - name: ^ci-.*-systest-(centos71|redhat70)-kilo$
    branch: ^master|R3\..*|R4\..*$

  # Don't run Ubuntu-14 kilo jobs for R4.0 and newer
  - name: ^ci-.*-systest-ubuntu14-kilo$
    branch: ^R3\..*$

  # Ubuntu-16 newton jobs for R4.0 and newer
  - name: ^ci-.*-systest-ubuntu16-newton$
    branch: ^master|R4\..*$

  # ubuntu14-vcenter only for master, R2.2*, and R3.0, and R4.0
  - name: ^ci-.*-systest-ubuntu14-vcenter$
    branch: (master|R2\.2.*|R3\..*|cql_dev|R4\..*)

  # Ubuntu14 mitaka systest jobs are for R3.1 and newer
  - name: ^ci-.*-systest-ubuntu14-mitaka$
    branch: ^(master|R3\.[12].*|R4\..*)$

  # Ubuntu14 liberty systest jobs are for R3.0 and R3.1
  # 2016-06-26 nonvoting / experimental for now
  - name: ^ci-contrail-.*-liberty$
    #branch: ^R3\.0.*$
    #branch: ^(master|R3\..*)$
    branch: ^R3\.[01].*$
    voting: false

  # Ubuntu12 icehouse systest jobs only before R2.2x
  - name: ^ci-.*-systest-ubuntu12-icehouse$
    branch: (R1\..*|R2\.[012])

  # Ubuntu12 unit-test jobs only before R2.2x
  - name: ^ci-.*-unittest-ubuntu12$
    branch: (R1\..*|R2\.[01])

  # Ubuntu14 unit-test jobs only for R2.2x and newer
  - name: ^ci-.*-unittest-ubuntu14$
    branch: (master|R2\.2.*|R3\..*|R4\..*|cql_dev)

  # Ubuntu14 web-* unit-test jobs are for master and R3.* only
  - name: ^ci-contrail-web-(core|controller|server-manager|storage)-unittest-ubuntu14$
    branch: ^(master|R3\..*|R4\..*)$

  # 2017-05-08 Ubuntu14 ub14-mitaka jobs are nonvoting for a few days
  # for server-manager, puppet, ansible, ansible-internal, and docker
  # [ in order to stabilize smlite_container provisioning ]
  - name: ^ci-contrail-(server-manager|puppet|ansible|ansible-internal|docker)-systest-ubuntu14-mitaka$
    branch: ^(master|R4\..*)$
  # voting: false

  # Ubuntu flake8 unit-test jobs are nonvoting
  - name: ^ci-contrail-.*-flake8$
    branch: ^(master|R3\..*|R2\.2.*|R4\..*)$
    voting: false

  # Ubuntu validate-ansible  unit-test jobs are nonvoting
  - name: ^ci-contrail-.*-validate-ansible$
    branch: ^(master|R4\..*)$
    voting: false

    # Ubuntu ansible-internal unit-test jobs are nonvoting
  - name: ^ci-contrail-ansible-internal-ansible-unittest-ubuntu14$
    branch: ^(master|R4\..*)$
    voting: false

  - name: ^ci-contrail-(web-|)controller-.*
    skip-if:
      - all-files-match-any:
        - ^specs/.*$

  # 2017-06-26 Adding this to skip all controller jobs for branch
  #            ml2_development. Atul and team will use this branch for
  #            some dev/prototype work, and will use gerrit for review
  #            and approval, but do not want to wait on jobs.
  #            Consider this a template for other dev branches
  - name: ^ci-contrail-controller-.*
    skip-if:
      - project: ^Juniper/contrail-controller$
        branch: ^ml2_development$

# The project list is grouped by type of project, and within each
# group, projects are sorted (mostly) alphabetically.
projects:
  # - name: R3.1
    # periodic:
      # - R3.1-ubuntu14-unittest
#      - R3.1-ubuntu14-juno-build
#      - R3.1-ubuntu14-kilo-build

  # - name: R3.2
    # periodic:
      # - R3.2-ubuntu14-unittest
#      - R3.2-ubuntu14-juno-build
#      - R3.2-ubuntu14-kilo-build

  - name: Juniper/contrail-controller
    check:
      - jluk-test1
      - ci-contrail-controller-unittest-ubuntu12
      - ci-contrail-controller-unittest-ubuntu14
      - ci-contrail-controller-systest-ubuntu12-icehouse
      - ci-contrail-controller-systest-ubuntu14-havana
      - ci-contrail-controller-systest-ubuntu14-icehouse
      - ci-contrail-controller-systest-ubuntu14-juno
      - ci-contrail-controller-systest-ubuntu14-kilo
      - ci-contrail-controller-systest-ubuntu14-liberty
      - ci-contrail-controller-systest-ubuntu14-mitaka
      - ci-contrail-controller-systest-ubuntu14-vcenter
      - ci-contrail-controller-systest-ubuntu16-newton
      - ci-contrail-controller-systest-centos64-havana
      - ci-contrail-controller-systest-centos71-juno
      - ci-contrail-controller-systest-centos71-kilo
      - ci-contrail-controller-systest-redhat70-icehouse
      - ci-contrail-controller-systest-redhat70-juno
      - ci-contrail-controller-systest-redhat70-kilo
    experimental:
      - noop
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-vrouter
    check:
      - ci-contrail-vrouter-unittest-ubuntu12
      - ci-contrail-vrouter-unittest-ubuntu14
      - ci-contrail-vrouter-systest-ubuntu12-icehouse
      - ci-contrail-vrouter-systest-ubuntu14-havana
      - ci-contrail-vrouter-systest-ubuntu14-icehouse
      - ci-contrail-vrouter-systest-ubuntu14-juno
      - ci-contrail-vrouter-systest-ubuntu14-kilo
      - ci-contrail-vrouter-systest-ubuntu14-liberty
      - ci-contrail-vrouter-systest-ubuntu14-mitaka
      - ci-contrail-vrouter-systest-ubuntu14-vcenter
      - ci-contrail-vrouter-systest-ubuntu16-newton
      - ci-contrail-vrouter-systest-centos64-havana
      - ci-contrail-vrouter-systest-centos71-juno
      - ci-contrail-vrouter-systest-centos71-kilo
      - ci-contrail-vrouter-systest-redhat70-icehouse
      - ci-contrail-vrouter-systest-redhat70-juno
      - ci-contrail-vrouter-systest-redhat70-kilo
    experimental:
      - noop
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-build
    check:
      - ci-contrail-build-unittest-ubuntu12
      - ci-contrail-build-unittest-ubuntu14
      - ci-contrail-build-systest-ubuntu12-icehouse
      - ci-contrail-build-systest-ubuntu14-havana
      - ci-contrail-build-systest-ubuntu14-icehouse
      - ci-contrail-build-systest-ubuntu14-juno
      - ci-contrail-build-systest-ubuntu14-kilo
      - ci-contrail-build-systest-ubuntu14-liberty
      - ci-contrail-build-systest-ubuntu14-mitaka
      - ci-contrail-build-systest-ubuntu14-vcenter
      - ci-contrail-build-systest-ubuntu16-newton
      - ci-contrail-build-systest-centos64-havana
      - ci-contrail-build-systest-centos71-juno
      - ci-contrail-build-systest-centos71-kilo
      - ci-contrail-build-systest-redhat70-icehouse
      - ci-contrail-build-systest-redhat70-juno
      - ci-contrail-build-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-packages
    check:
      - ci-contrail-packages-systest-ubuntu12-icehouse
      - ci-contrail-packages-systest-ubuntu14-havana
      - ci-contrail-packages-systest-ubuntu14-icehouse
      - ci-contrail-packages-systest-ubuntu14-juno
      - ci-contrail-packages-systest-ubuntu14-kilo
      - ci-contrail-packages-systest-ubuntu14-liberty
      - ci-contrail-packages-systest-ubuntu14-mitaka
      - ci-contrail-packages-systest-ubuntu14-vcenter
      - ci-contrail-packages-systest-ubuntu16-newton
      - ci-contrail-packages-systest-centos64-havana
      - ci-contrail-packages-systest-centos71-juno
      - ci-contrail-packages-systest-centos71-kilo
      - ci-contrail-packages-systest-redhat70-icehouse
      - ci-contrail-packages-systest-redhat70-juno
      - ci-contrail-packages-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-third-party
    check:
      - ci-contrail-third-party-unittest-ubuntu14
      - ci-contrail-third-party-systest-ubuntu12-icehouse
      - ci-contrail-third-party-systest-ubuntu14-icehouse
      - ci-contrail-third-party-systest-ubuntu14-juno
      - ci-contrail-third-party-systest-ubuntu14-kilo
      - ci-contrail-third-party-systest-ubuntu14-liberty
      - ci-contrail-third-party-systest-ubuntu14-mitaka
      - ci-contrail-third-party-systest-ubuntu14-vcenter
      - ci-contrail-third-party-systest-ubuntu16-newton
      - ci-contrail-third-party-systest-centos64-havana
      - ci-contrail-third-party-systest-centos71-juno
      - ci-contrail-third-party-systest-centos71-kilo
      - ci-contrail-third-party-systest-redhat70-icehouse
      - ci-contrail-third-party-systest-redhat70-juno
      - ci-contrail-third-party-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-generateDS
    check:
      - ci-contrail-generateDS-flake8
      - ci-contrail-generateDS-unittest-ubuntu12
      - ci-contrail-generateDS-unittest-ubuntu14
      - ci-contrail-generateDS-systest-ubuntu12-icehouse
      - ci-contrail-generateDS-systest-ubuntu14-havana
      - ci-contrail-generateDS-systest-ubuntu14-icehouse
      - ci-contrail-generateDS-systest-ubuntu16-newton
      - ci-contrail-generateDS-systest-ubuntu14-juno
      - ci-contrail-generateDS-systest-ubuntu14-kilo
      - ci-contrail-generateDS-systest-ubuntu14-liberty
      - ci-contrail-generateDS-systest-ubuntu14-mitaka
      - ci-contrail-generateDS-systest-centos71-juno
      - ci-contrail-generateDS-systest-centos71-kilo
      - ci-contrail-generateDS-systest-redhat70-icehouse
      - ci-contrail-generateDS-systest-redhat70-juno
      - ci-contrail-generateDS-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-neutron-plugin
    check:
      - ci-contrail-neutron-plugin-flake8
      - ci-contrail-neutron-plugin-systest-ubuntu12-icehouse
      - ci-contrail-neutron-plugin-systest-ubuntu14-icehouse
      - ci-contrail-neutron-plugin-systest-ubuntu14-juno
      - ci-contrail-neutron-plugin-systest-ubuntu14-kilo
      - ci-contrail-neutron-plugin-systest-ubuntu14-liberty
      - ci-contrail-neutron-plugin-systest-ubuntu14-mitaka
      - ci-contrail-neutron-plugin-systest-ubuntu16-newton
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-nova-vif-driver
    check:
      - ci-contrail-nova-vif-driver-flake8
      - ci-contrail-nova-vif-driver-systest-ubuntu12-icehouse
      - ci-contrail-nova-vif-driver-systest-ubuntu14-icehouse
      - ci-contrail-nova-vif-driver-systest-ubuntu14-juno
      - ci-contrail-nova-vif-driver-systest-ubuntu14-kilo
      - ci-contrail-nova-vif-driver-systest-ubuntu14-liberty
      - ci-contrail-nova-vif-driver-systest-ubuntu14-mitaka
      - ci-contrail-nova-vif-driver-systest-ubuntu16-newton
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-sandesh
    check:
      - ci-contrail-sandesh-unittest-win2016
      - ci-contrail-sandesh-unittest-ubuntu12
      - ci-contrail-sandesh-unittest-ubuntu14
      - ci-contrail-sandesh-systest-ubuntu12-icehouse
      - ci-contrail-sandesh-systest-ubuntu14-havana
      - ci-contrail-sandesh-systest-ubuntu14-icehouse
      - ci-contrail-sandesh-systest-ubuntu14-juno
      - ci-contrail-sandesh-systest-ubuntu14-kilo
      - ci-contrail-sandesh-systest-ubuntu14-liberty
      - ci-contrail-sandesh-systest-ubuntu14-mitaka
      - ci-contrail-sandesh-systest-ubuntu16-newton
      - ci-contrail-sandesh-systest-centos64-havana
      - ci-contrail-sandesh-systest-centos71-juno
      - ci-contrail-sandesh-systest-centos71-kilo
      - ci-contrail-sandesh-systest-redhat70-icehouse
      - ci-contrail-sandesh-systest-redhat70-juno
      - ci-contrail-sandesh-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-packaging
    check:
      - ci-contrail-packaging-systest-ubuntu12-icehouse
      - ci-contrail-packaging-systest-ubuntu14-havana
      - ci-contrail-packaging-systest-ubuntu14-icehouse
      - ci-contrail-packaging-systest-ubuntu14-juno
      - ci-contrail-packaging-systest-ubuntu14-kilo
      - ci-contrail-packaging-systest-ubuntu14-liberty
      - ci-contrail-packaging-systest-ubuntu14-mitaka
      - ci-contrail-packaging-systest-ubuntu14-vcenter
      - ci-contrail-packaging-systest-ubuntu16-newton
      - ci-contrail-packaging-systest-centos64-havana
      - ci-contrail-packaging-systest-centos71-juno
      - ci-contrail-packaging-systest-centos71-kilo
      - ci-contrail-packaging-systest-redhat70-icehouse
      - ci-contrail-packaging-systest-redhat70-juno
      - ci-contrail-packaging-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-provisioning
    check:
      - ci-contrail-provisioning-systest-ubuntu12-icehouse
      - ci-contrail-provisioning-systest-ubuntu14-havana
      - ci-contrail-provisioning-systest-ubuntu14-icehouse
      - ci-contrail-provisioning-systest-ubuntu14-juno
      - ci-contrail-provisioning-systest-ubuntu14-kilo
      - ci-contrail-provisioning-systest-ubuntu14-liberty
      - ci-contrail-provisioning-systest-ubuntu14-mitaka
      - ci-contrail-provisioning-systest-ubuntu16-newton
      - ci-contrail-provisioning-systest-centos64-havana
      - ci-contrail-provisioning-systest-centos71-juno
      - ci-contrail-provisioning-systest-centos71-kilo
      - ci-contrail-provisioning-systest-redhat70-icehouse
      - ci-contrail-provisioning-systest-redhat70-juno
      - ci-contrail-provisioning-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-test
    check:
      - ci-contrail-test-systest-ubuntu12-icehouse
      - ci-contrail-test-systest-ubuntu14-havana
      - ci-contrail-test-systest-ubuntu14-icehouse
      - ci-contrail-test-systest-ubuntu14-juno
      - ci-contrail-test-systest-ubuntu14-kilo
      - ci-contrail-test-systest-ubuntu14-liberty
      - ci-contrail-test-systest-ubuntu14-mitaka
      - ci-contrail-test-systest-ubuntu16-newton
      - ci-contrail-test-systest-centos64-havana
      - ci-contrail-test-systest-centos71-juno
      - ci-contrail-test-systest-centos71-kilo
      - ci-contrail-test-systest-redhat70-icehouse
      - ci-contrail-test-systest-redhat70-juno
      - ci-contrail-test-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-fabric-utils
    check:
      - ci-contrail-fabric-utils-systest-ubuntu12-icehouse
      - ci-contrail-fabric-utils-systest-ubuntu14-havana
      - ci-contrail-fabric-utils-systest-ubuntu14-icehouse
      - ci-contrail-fabric-utils-systest-ubuntu14-juno
      - ci-contrail-fabric-utils-systest-ubuntu14-kilo
      - ci-contrail-fabric-utils-systest-ubuntu14-liberty
      - ci-contrail-fabric-utils-systest-ubuntu14-mitaka
      - ci-contrail-fabric-utils-systest-ubuntu16-newton
      - ci-contrail-fabric-utils-systest-centos64-havana
      - ci-contrail-fabric-utils-systest-centos71-juno
      - ci-contrail-fabric-utils-systest-centos71-kilo
      - ci-contrail-fabric-utils-systest-redhat70-icehouse
      - ci-contrail-fabric-utils-systest-redhat70-juno
      - ci-contrail-fabric-utils-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-web-core
    check:
      - ci-contrail-web-core-unittest-ubuntu12
      - ci-contrail-web-core-unittest-ubuntu14
      - ci-contrail-web-core-systest-ubuntu12-icehouse
      - ci-contrail-web-core-systest-ubuntu14-havana
      - ci-contrail-web-core-systest-ubuntu14-icehouse
      - ci-contrail-web-core-systest-ubuntu14-juno
      - ci-contrail-web-core-systest-ubuntu14-kilo
      - ci-contrail-web-core-systest-ubuntu14-liberty
      - ci-contrail-web-core-systest-ubuntu14-mitaka
      - ci-contrail-web-core-systest-ubuntu16-newton
      - ci-contrail-web-core-systest-centos64-havana
      - ci-contrail-web-core-systest-centos71-juno
      - ci-contrail-web-core-systest-centos71-kilo
      - ci-contrail-web-core-systest-redhat70-icehouse
      - ci-contrail-web-core-systest-redhat70-juno
      - ci-contrail-web-core-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - ci-contrail-web-core-unittest-ubuntu12
    post:
      - noop

  - name: Juniper/contrail-web-controller
    check:
      - ci-contrail-web-controller-unittest-ubuntu12
      - ci-contrail-web-controller-unittest-ubuntu14
      - ci-contrail-web-controller-systest-ubuntu12-icehouse
      - ci-contrail-web-controller-systest-ubuntu14-havana
      - ci-contrail-web-controller-systest-ubuntu14-icehouse
      - ci-contrail-web-controller-systest-ubuntu14-juno
      - ci-contrail-web-controller-systest-ubuntu14-kilo
      - ci-contrail-web-controller-systest-ubuntu14-liberty
      - ci-contrail-web-controller-systest-ubuntu14-mitaka
      - ci-contrail-web-controller-systest-ubuntu16-newton
      - ci-contrail-web-controller-systest-centos64-havana
      - ci-contrail-web-controller-systest-centos71-juno
      - ci-contrail-web-controller-systest-centos71-kilo
      - ci-contrail-web-controller-systest-redhat70-icehouse
      - ci-contrail-web-controller-systest-redhat70-juno
      - ci-contrail-web-controller-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - ci-contrail-web-controller-unittest-ubuntu12
    post:
      - noop

  - name: Juniper/contrail-webui-third-party
    check:
      - ci-contrail-webui-third-party-unittest-ubuntu12
      - ci-contrail-webui-third-party-unittest-ubuntu14
      - ci-contrail-webui-third-party-systest-ubuntu12-icehouse
      - ci-contrail-webui-third-party-systest-ubuntu14-havana
      - ci-contrail-webui-third-party-systest-ubuntu14-icehouse
      - ci-contrail-webui-third-party-systest-ubuntu14-juno
      - ci-contrail-webui-third-party-systest-ubuntu14-kilo
      - ci-contrail-webui-third-party-systest-ubuntu14-liberty
      - ci-contrail-webui-third-party-systest-ubuntu14-mitaka
      - ci-contrail-webui-third-party-systest-ubuntu16-newton
      - ci-contrail-webui-third-party-systest-centos64-havana
      - ci-contrail-webui-third-party-systest-centos71-juno
      - ci-contrail-webui-third-party-systest-centos71-kilo
      - ci-contrail-webui-third-party-systest-redhat70-icehouse
      - ci-contrail-webui-third-party-systest-redhat70-juno
      - ci-contrail-webui-third-party-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - ci-contrail-webui-third-party-unittest-ubuntu12
    post:
      - noop

  - name: Juniper/horizon
    check:
      - ci-horizon-systest-ubuntu12-icehouse
      - ci-horizon-systest-ubuntu14-juno
      - ci-horizon-systest-ubuntu14-kilo
      - ci-horizon-systest-ubuntu14-liberty
      - ci-horizon-systest-ubuntu14-mitaka
      - ci-horizon-systest-ubuntu16-newton
      - ci-horizon-systest-centos64-havana
      - ci-horizon-systest-centos71-juno
      - ci-horizon-systest-centos71-kilo
      - ci-horizon-systest-redhat70-icehouse
      - ci-horizon-systest-redhat70-juno
      - ci-horizon-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/nova
    check:
      - ci-nova-systest-ubuntu12-icehouse
      - ci-nova-systest-ubuntu14-juno
      - ci-nova-systest-ubuntu14-kilo
      - ci-nova-systest-ubuntu14-liberty
      - ci-nova-systest-ubuntu14-mitaka
      - ci-nova-systest-ubuntu16-newton
      - ci-nova-systest-centos64-havana
      - ci-nova-systest-centos71-juno
      - ci-nova-systest-centos71-kilo
      - ci-nova-systest-redhat70-icehouse
      - ci-nova-systest-redhat70-juno
      - ci-nova-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-server-manager
    check:
      - jluk-test1
      - ci-contrail-server-manager-unittest-win2016
      - ci-contrail-server-manager-unittest-win2016-bis
      - ci-contrail-server-manager-systest-ubuntu12-icehouse
      - ci-contrail-server-manager-systest-ubuntu14-juno
      - ci-contrail-server-manager-systest-ubuntu14-kilo
      - ci-contrail-server-manager-systest-ubuntu14-liberty
      - ci-contrail-server-manager-systest-ubuntu14-mitaka
      - ci-contrail-server-manager-systest-ubuntu16-newton
      - ci-contrail-server-manager-systest-centos64-havana
      - ci-contrail-server-manager-systest-centos71-juno
      - ci-contrail-server-manager-systest-centos71-kilo
      - ci-contrail-server-manager-systest-redhat70-icehouse
      - ci-contrail-server-manager-systest-redhat70-juno
      - ci-contrail-server-manager-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-puppet
    check:
      - ci-contrail-puppet-systest-ubuntu12-icehouse
      - ci-contrail-puppet-systest-ubuntu14-juno
      - ci-contrail-puppet-systest-ubuntu14-kilo
      - ci-contrail-puppet-systest-ubuntu14-liberty
      - ci-contrail-puppet-systest-ubuntu14-mitaka
      - ci-contrail-puppet-systest-ubuntu16-newton
      - ci-contrail-puppet-systest-centos64-havana
      - ci-contrail-puppet-systest-centos71-juno
      - ci-contrail-puppet-systest-centos71-kilo
      - ci-contrail-puppet-systest-redhat70-icehouse
      - ci-contrail-puppet-systest-redhat70-juno
      - ci-contrail-puppet-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-heat
    check:
      - ci-contrail-heat-systest-ubuntu12-icehouse
      - ci-contrail-heat-systest-ubuntu14-juno
      - ci-contrail-heat-systest-ubuntu14-kilo
      - ci-contrail-heat-systest-ubuntu14-liberty
      - ci-contrail-heat-systest-ubuntu14-mitaka
      - ci-contrail-heat-systest-ubuntu16-newton
      - ci-contrail-heat-flake8
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-web-server-manager
    check:
      - ci-contrail-web-server-manager-unittest-ubuntu12
      - ci-contrail-web-server-manager-unittest-ubuntu14
      - ci-contrail-web-server-manager-systest-ubuntu12-icehouse
      - ci-contrail-web-server-manager-systest-ubuntu14-havana
      - ci-contrail-web-server-manager-systest-ubuntu14-icehouse
      - ci-contrail-web-server-manager-systest-ubuntu14-juno
      - ci-contrail-web-server-manager-systest-ubuntu14-kilo
      - ci-contrail-web-server-manager-systest-ubuntu14-liberty
      - ci-contrail-web-server-manager-systest-ubuntu14-mitaka
      - ci-contrail-web-server-manager-systest-ubuntu16-newton
      - ci-contrail-web-server-manager-systest-centos64-havana
      - ci-contrail-web-server-manager-systest-redhat70-icehouse
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-web-storage
    check:
      - ci-contrail-web-storage-unittest-ubuntu12
      - ci-contrail-web-storage-unittest-ubuntu14
      - ci-contrail-web-storage-systest-ubuntu12-icehouse
      - ci-contrail-web-storage-systest-ubuntu14-havana
      - ci-contrail-web-storage-systest-ubuntu14-icehouse
      - ci-contrail-web-storage-systest-ubuntu14-juno
      - ci-contrail-web-storage-systest-ubuntu14-kilo
      - ci-contrail-web-storage-systest-ubuntu14-liberty
      - ci-contrail-web-storage-systest-ubuntu14-mitaka
      - ci-contrail-web-storage-systest-ubuntu16-newton
      - ci-contrail-web-storage-systest-centos64-havana
      - ci-contrail-web-storage-systest-redhat70-icehouse
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-third-party-cache
    check:
      - ci-contrail-third-party-cache-unittest-ubuntu12
      - ci-contrail-third-party-cache-unittest-ubuntu14
      - ci-contrail-third-party-cache-systest-ubuntu12-icehouse
      - ci-contrail-third-party-cache-systest-ubuntu14-havana
      - ci-contrail-third-party-cache-systest-ubuntu14-icehouse
      - ci-contrail-third-party-cache-systest-ubuntu14-juno
      - ci-contrail-third-party-cache-systest-ubuntu14-kilo
      - ci-contrail-third-party-cache-systest-ubuntu14-liberty
      - ci-contrail-third-party-cache-systest-ubuntu14-mitaka
      - ci-contrail-third-party-cache-systest-ubuntu16-newton
      - ci-contrail-third-party-cache-systest-centos64-havana
      - ci-contrail-third-party-cache-systest-centos71-juno
      - ci-contrail-third-party-cache-systest-centos71-kilo
      - ci-contrail-third-party-cache-systest-redhat70-icehouse
      - ci-contrail-third-party-cache-systest-redhat70-juno
      - ci-contrail-third-party-cache-systest-redhat70-kilo
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-vcenter-plugin
    check:
      - ci-contrail-vcenter-plugin-systest-ubuntu14-vcenter
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-horizon
    check:
      - ci-contrail-horizon-systest-ubuntu14-icehouse
      - ci-contrail-horizon-systest-ubuntu14-juno
      - ci-contrail-horizon-systest-ubuntu14-kilo
      - ci-contrail-horizon-systest-ubuntu14-liberty
      - ci-contrail-horizon-systest-ubuntu14-mitaka
      - ci-contrail-horizon-systest-ubuntu16-newton
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-test-ci
    check:
      - ci-contrail-test-ci-systest-ubuntu14-juno
      - ci-contrail-test-ci-systest-ubuntu14-kilo
      - ci-contrail-test-ci-systest-ubuntu14-liberty
      - ci-contrail-test-ci-systest-ubuntu14-mitaka
      - ci-contrail-test-ci-systest-ubuntu16-newton
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-docker
    check:
      # NOTYET BEGIN
      - ci-contrail-docker-validate-ansible
      # - ci-contrail-docker-systest-ubuntu14-icehouse
      # - ci-contrail-docker-systest-ubuntu14-juno
      # - ci-contrail-docker-systest-ubuntu14-kilo
      # - ci-contrail-docker-systest-ubuntu14-liberty
      - ci-contrail-docker-systest-ubuntu14-mitaka
      # - ci-contrail-docker-systest-ubuntu16-newton
      # NOTYET END
    silent:
      - noop
    gate:
      - noop
    post:
      - noop

  - name: Juniper/contrail-ansible
    check:
      # NOTYET BEGIN
      - ci-contrail-ansible-validate-ansible
      # - ci-contrail-ansible-systest-ubuntu14-icehouse
      # - ci-contrail-ansible-systest-ubuntu14-juno
      # - ci-contrail-ansible-systest-ubuntu14-kilo
      # - ci-contrail-ansible-systest-ubuntu14-liberty
      - ci-contrail-ansible-systest-ubuntu14-mitaka
      # - ci-contrail-ansible-systest-ubuntu16-newton
      # NOTYET END
    silent:
      - noop
    gate:
      - noop
    post:
      - noop


  - name: Juniper/contrail-ansible-internal
    check:
      - ci-contrail-ansible-internal-validate-ansible
      - ci-contrail-ansible-internal-ansible-unittest-ubuntu14

      # NOTYET BEGIN
      # - ci-contrail-ansible-internal-systest-ubuntu14-icehouse
      # - ci-contrail-ansible-internal-systest-ubuntu14-juno
      # - ci-contrail-ansible-internal-systest-ubuntu14-kilo
      # - ci-contrail-ansible-internal-systest-ubuntu14-liberty
      - ci-contrail-ansible-internal-systest-ubuntu14-mitaka
      # - ci-contrail-ansible-internal-systest-ubuntu16-newton
      # NOTYET END
    silent:
      - noop
    gate:
      - noop
    post:
      - noop
