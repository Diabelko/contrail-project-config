- job-group:
    name: contrail-unittest-jobs-win2016
    jobs:
      - 'ci-{name}-unittest-win2016'

- job-template:
    name: 'ci-{name}-unittest-win2016'
    node: ci-oc-slave-win2016
    builders:
      - contrail-systest-builder-win:
          project: "{name}"

- project:
    name: contrail-sandesh
    github-org: Juniper
    #node: juniper-tests
    tarball-site: tarballs.openstack.org
    doc-publisher-site: docs.opencontrail.org
    jobs:
      - contrail-unittest-jobs-win2016

- builder:
    name: contrail-systest-builder-win
    builders:
      - shell: |
          #!/bin/bash
          export LOREMIPSUM=changeme
          export PROJECT_NAME="{project}"
          export CONTRAIL_CI_JOB_TYPE=unittest
          /usr/bin/ci_setup.sh

- wrapper:
    name: contrail-jobs-wrapper
    wrappers:
      - timeout:
          timeout: 600
          fail: true
      - timestamps
      - ansicolor

- publisher:
    name: contrail-systest-job-publish
    publishers:
      - archive:
          artifacts: logs/**
          allow-empty: 'true'
          default-excludes: false
      - junit:
          results: test-reports/*.xml
          keep-long-stdio: false
          health-scale-factor: 1.0

- project:
    name: contrail-server-manager
    github-org: Juniper
    #node: juniper-tests
    tarball-site: tarballs.openstack.org
    doc-publisher-site: docs.opencontrail.org
    jobs:
      - contrail-unittest-jobs-win2016
